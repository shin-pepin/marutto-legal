# 特定商取引法ページジェネレーター — アプリ概要・仕様書

## 1. アプリ概要

### 1.1 アプリ名（案）

- **ストア表示名**: まるっと法務作成｜特商法・プライバシーポリシー・利用規約を自動生成
- **App Store掲載名**: まるっと法務作成（Legal Page Generator for Japan）
- **内部コードネーム**: marutto-legal

> ※ 既存アプリ「まるっと請求書」とのブランド統一を意図。「まるっと」シリーズとしてポートフォリオを構築する。

### 1.2 一言で言うと

Shopifyストアに必要な日本の法的ページ（特定商取引法に基づく表記、プライバシーポリシー、利用規約、返品ポリシー）を、フォームに入力するだけで自動生成・自動配置するアプリ。

### 1.3 解決する課題

| 課題 | 現状 | アプリで解決 |
|------|------|------------|
| 特商法ページの作成が複雑 | 14項目の法定記載義務があり、何を書くべきか分からない | 構造化フォームで質問に答えるだけで生成 |
| Shopifyのテンプレートが不完全 | テキストエディタ＋基本テンプレートのみ。空欄が多い | フォーム入力→完全なページを自動出力 |
| フッターへの手動リンク追加が必要 | メニュー設定で手動追加。見落としが多い | 生成と同時にフッターへ自動配置 |
| 法改正への追従ができない | 2022年改正（最終確認画面義務化）等の対応を自力で行う必要 | 法改正時にアプリ側で更新・通知 |
| 競合プラットフォームとの機能格差 | BASE・STORES・カラーミーは全て標準搭載 | Shopifyでも同等の体験を提供 |
| 個人事業主の住所公開問題 | Shopifyには住所非公開機能がない | 非公開設定のガイダンスとバーチャルオフィス案内 |

### 1.4 ターゲットユーザー

- **プライマリ**: 日本国内で通信販売を行う全てのShopifyストア（42,862店舗、100%が対象）
- **特に刺さる層**:
  - Shopify初心者（ストア開設直後に必ず必要）
  - 楽天・BASE・STORESからの移行マーチャント（以前のプラットフォームでは標準搭載だったため、欠如に不満を感じている）
  - 個人事業主・副業EC（法的知識に自信がなく、住所公開問題に悩んでいる）

### 1.5 競合状況

| 競合 | タイプ | 問題点 |
|------|--------|--------|
| Shopifyビルトイン（設定 > ポリシー） | プラットフォーム機能 | テンプレートが不完全。Liquidオブジェクト非対応。フッター手動配置 |
| KIYAC（キヤク） | 外部Webサービス | Shopify連携なし。コピペで手動貼り付け。年額7,920円 |
| 弁護士依頼 | 専門家サービス | 4点セットで30万円以上。小規模には非現実的 |
| 他社サイトのコピペ | DIY | 法的に不正確。自社の実態と合わない記載になるリスク |
| **App Store専用アプリ** | **0件** | **競合ゼロ** |

---

## 2. 機能仕様

### 2.1 生成対象ページ一覧

| # | ページ | 法的根拠 | 優先度 |
|---|--------|---------|--------|
| 1 | 特定商取引法に基づく表記 | 特定商取引法第11条 | **P0**（MVP必須） |
| 2 | プライバシーポリシー | 個人情報保護法 | **P0**（MVP必須） |
| 3 | 利用規約 | 民法（契約自由の原則） | **P1**（v1.1） |
| 4 | 返品・交換ポリシー | 特定商取引法第15条の3 | **P1**（v1.1） |
| 5 | 最終確認画面テキスト | 改正特商法第12条の6（2022年施行） | **P2**（v2.0） |
| 6 | メール配信規約 | 特定電子メール法 | **P2**（v2.0） |

### 2.2 特定商取引法ページの入力フィールド

特定商取引法第11条に基づく14項目の法定記載事項 + アプリ制御4フィールド（計18フィールド）をフォーム化する。

| # | フィールド名 | 入力タイプ | 必須 | 備考 |
|---|------------|----------|------|------|
| 1 | 販売業者名 | テキスト | ✅ | 法人名 or 個人事業主の屋号 |
| 2 | 代表者名（運営責任者名） | テキスト | ✅ | 法人は代表者 or 通販業務責任者 |
| 3 | 所在地 | テキスト（郵便番号＋住所） | ✅ | 住所非公開オプション付き（後述） |
| 4 | 電話番号 | テキスト | ✅ | |
| 5 | メールアドレス | テキスト | ✅ | |
| 6 | 販売価格 | テキスト or テンプレート選択 | ✅ | 「各商品ページに記載」等のデフォルト文言あり |
| 7 | 商品代金以外の必要料金 | テキスト or テンプレート選択 | ✅ | 送料・手数料・消費税の扱い |
| 8 | 支払方法 | チェックボックス（複数選択） | ✅ | クレカ、銀行振込、コンビニ決済、代引き、後払い、PayPay等 |
| 9 | 支払時期 | テンプレート選択 + 自由記述 | ✅ | 支払方法ごとのデフォルト文言あり |
| 10 | 商品の引渡時期 | テキスト | ✅ | 「ご注文確認後○営業日以内に発送」等 |
| 11 | 返品・交換について | テキスト or テンプレート選択 | ✅ | 返品条件・期限・送料負担 |
| 12 | 返品期限 | テキスト | ✅ | 「商品到着後○日以内」 |
| 13 | 返品送料 | テンプレート選択 | ✅ | 「お客様負担」「当店負担」等 |
| 14 | 商品の不良について | テンプレート選択 + 自由記述 | ✅ | |
| 15 | 販売数量の制限 | テキスト | 任意 | 「お一人様○個まで」等 |
| 16 | 引き渡し時期の特記事項 | テキスト | 任意 | 予約商品・受注生産の場合 |
| 17 | 事業者の種別 | ラジオボタン | ✅ | 法人 / 個人事業主 |
| 18 | 住所公開設定 | ラジオボタン | ✅ | 公開 / 請求があれば遅滞なく開示 |

### 2.3 住所非公開機能

2021年9月の特商法改正（2022年6月施行）により、個人事業主は一定の条件下で住所・電話番号の非公開が認められた。

**アプリ側の対応：**
- 「請求があった場合、遅滞なく開示します」のテンプレート文言を自動挿入
- バーチャルオフィス利用の推奨ガイダンスを表示（条件：現に活動している住所、確実に連絡が取れる状態）
- 非公開設定時、消費者庁ガイドラインへのリンクを参考情報として表示

### 2.4 ページ出力・配置機能

| 機能 | 仕様 |
|------|------|
| **出力先** | Shopifyの固定ページ（Page）として作成 |
| **出力形式** | HTML（テーブルレイアウト。見やすいフォーマット） |
| **フッター自動配置** | 生成時にフッターメニューへ自動でリンクを追加 |
| **更新** | フォーム再編集 → 保存で既存ページを上書き更新 |
| **プレビュー** | 保存前にプレビュー画面で出力内容を確認可能 |
| **多言語対応（将来）** | 英語版の同時生成（越境EC対応、P2） |

### 2.5 実装方式の選択

ページの作成方法として2つのアプローチを比較する。

| 方式 | メリット | デメリット |
|------|---------|----------|
| **A: Pages API経由でページ作成** | シンプル。テーマ非依存。全テーマで動作 | テーマのデザインに依存。カスタムCSS困難 |
| **B: Theme App Extension** | デザインの自由度が高い。ブロックとして配置可能 | テーマ互換性の考慮が必要 |

**推奨：方式A（Pages API）をMVPで採用。** 理由は実装がシンプル、全テーマで確実に動作する、サポート工数が最小化されるため。v2以降でTheme App Extensionブロック（ランキングバッジ等）を追加展開する際のノウハウ蓄積後に方式Bを検討。

---

## 3. 画面フロー

### 3.1 全体フロー

> App Store説明文の「かんたん3ステップ」と整合するため、4ステップを3ステップに統合。

```
[アプリインストール]
    ↓
[ダッシュボード]（生成済みページ一覧 / 未作成ページの案内）
    ↓
[ページ生成ウィザード]
    ├── Step 1: 事業者情報入力（名称・住所・連絡先・事業者種別・住所公開設定）
    ├── Step 2: 販売条件入力（アコーディオンUI: 支払い / 配送 / 返品）
    └── Step 3: プレビュー & 公開（プレビュー確認 + 生成＆公開ボタン + フッターメニュー選択）
    ↓
[完了画面]（生成されたページへのリンク / 次のアクション提案）
```

### 3.2 ダッシュボード画面

| 要素 | 内容 |
|------|------|
| **Empty State（初回）** | 未作成時にPolaris EmptyStateコンポーネントで「特商法ページを作成しましょう」とCTAボタン表示 |
| ページ一覧 | 生成済みの法的ページをカード形式で表示。ステータス（公開/下書き/Shopify側削除済み）、最終更新日 |
| 未作成ページ | 「プライバシーポリシーがまだ作成されていません」等のアラート |
| 免責バナー | 「本アプリは法的助言を提供するものではありません」のBanner（tone=info）を常時表示 |
| コンプライアンスチェック | 簡易診断：必須項目の記入漏れがないか確認（Phase 2） |
| 法改正通知 | 関連する法改正情報がある場合にバナー表示（Phase 2） |

### 3.3 ウィザード画面

- Shopify Polaris UIコンポーネントを使用（App Bridge統合）
- ステップ形式で段階的に入力（一度に全項目を表示しない）
- 各フィールドに**ヘルプテキスト**（「この項目は〇〇法で義務付けられています」等）
- テンプレート文言を**ワンクリックで挿入可能**（支払方法・引渡時期等の頻出パターン）
- 入力途中での**自動保存**（ブラウザを閉じても復元可能）
- Step 2の販売条件は**アコーディオンUI**で分割（支払い / 配送 / 返品）

**自動保存の実装方針:**
- 保存先: サーバーサイドDB（LegalPage.form_dataカラムに中間状態保存）
- タイミング: 各ステップ完了時 + debounce 3秒
- 復元: loaderで既存form_data取得 → フォーム初期値として復元
- 実装: fetcher.submitによるサーバーへの非同期保存

### 3.4 バリデーション仕様

| フィールド | ルール |
|-----------|--------|
| メールアドレス | RFC準拠 |
| 電話番号 | 日本形式（ハイフン有無両対応: 03-1234-5678 / 0312345678） |
| 郵便番号 | 7桁（ハイフン有無両対応: 123-4567 / 1234567）、住所自動補完 |
| 全テキストフィールド | 最大文字数制限 |

- バリデーションタイミング: ステップ遷移時（Zodスキーマによるサーバーサイドバリデーション）
- バリデーションライブラリ: Zod

---

## 4. 技術仕様

### 4.1 技術スタック

| レイヤー | 技術 |
|---------|------|
| フレームワーク | React Router v7（Shopify CLI最新テンプレート） |
| フロントエンド | React + Shopify Polaris |
| バックエンド | Node.js |
| データベース | SQLite（Prisma ORM）+ Persistent Volume + Litestream |
| ホスティング | Fly.io |
| 認証 | Shopify OAuth（App Bridge統合） |
| バリデーション | Zod |
| テスト | Vitest |

> **SQLite + Fly.ioの運用注意点:**
> - Fly.ioではPersistent Volume（永続ボリューム）の設定が必須
> - Litestreamによるバックアップ戦略でデータ消失リスクを軽減
> - スケール時はPostgreSQL移行を検討

### 4.2 使用するShopify API

> ※ 2025年4月以降の新規アプリはGraphQL Admin API必須。REST APIは使用しない。

| API | 用途 | スコープ |
|-----|------|---------|
| **Pages API (GraphQL Admin API)** | 法的ページの作成・更新・削除 | `write_online_store_pages` |
| **Menu API (GraphQL Admin API)** | フッターメニューへのリンク自動追加 | `write_online_store_navigation` |
| **Shop API (GraphQL Admin API)** | ストア情報の自動取得 | `read_online_store_pages` |
| **Billing API** | サブスクリプション課金（Phase 2） | （App Bridge統合） |

- アプリ設定の保存はアプリ自身のDB（SQLite）で行う（Metafields APIは不使用）

### 4.3 データモデル

> Storeテーブルは認証情報のみ保持。事業者情報はLegalPageのform_dataに統合（Phase 2でBusinessInfoテーブルに分離を検討）。PaymentMethodテーブルはMVPでは不採用。

```
Store（ストア認証情報）
├── id: Shopify shop_id
├── shop_domain: string @unique
├── installed_at: datetime
└── created_at / updated_at

LegalPage（生成されたページ）
├── id: auto (cuid)
├── store_id: FK → Store
├── page_type: enum（tokushoho / privacy / terms / return）
├── shopify_page_id: string?（Shopify側のページGID）
├── content_html: text?（生成されたHTML）
├── form_data: string?（JSON。暗号化保存）
├── form_schema_version: integer @default(1)
├── status: enum（draft / published / deleted_on_shopify）
├── version: integer @default(1)（楽観的ロック用）
├── menu_item_added: boolean @default(false)
└── created_at / updated_at
@@unique([store_id, page_type])
```

### 4.4 ページ生成ロジック

```
1. ユーザーがフォームに入力 → form_data としてJSON（暗号化）保存
2. form_data + TypeScriptタグ付きテンプレートリテラル → HTML生成（自動XSSエスケープ）
3. Shopify Pages API (GraphQL) で固定ページとして作成（body に生成HTMLを設定）
4. Menu API (GraphQL) でフッターメニューに自動追加
5. LegalPage テーブルに shopify_page_id（GID）を記録
6. 再編集時は form_data を復号・読み込み → フォーム復元 → 再生成 → Pages API で更新
```

### 4.5 テンプレートエンジン

**選定: TypeScriptタグ付きテンプレートリテラル**

選定理由:
- ゼロ依存（外部ライブラリ不要）
- 自動XSSエスケープ保証（タグ関数内で全値をHTMLエスケープ）
- 型安全（TypeScriptの型チェックが効く）

特商法ページのHTMLテンプレートは以下の構造：

```typescript
// lib/sanitize.ts のhtml関数を使用
const page = html`
<div class="legal-page tokushoho">
  <h1>特定商取引法に基づく表記</h1>
  <table>
    <tr><th>販売業者</th><td>${data.businessName}</td></tr>
    <tr><th>運営責任者</th><td>${data.representativeName}</td></tr>
    <tr>
      <th>所在地</th>
      <td>${data.addressDisclosure === "public"
        ? `〒${data.postalCode} ${data.address}`
        : "請求があった場合、遅滞なく開示いたします。"
      }</td>
    </tr>
    <!-- ... 以下、全18フィールド -->
  </table>
</div>
`;
```

CSSは最小限のインラインスタイルとして埋め込み（テーマ追従を基本としつつ、テーブル等の基本スタイルのみ指定）。

### 4.6 セキュリティ仕様

| 項目 | 仕様 |
|------|------|
| **通信暗号化** | HTTPS必須（Fly.io標準対応） |
| **データ暗号化** | form_data内の個人情報をAES-256-GCMで暗号化保存 |
| **入力サニタイゼーション** | 全ユーザー入力をHTMLエスケープ。タグ付きテンプレートリテラルで自動エスケープ保証 |
| **認証・セッション** | Shopify App Bridge + OAuthセッション管理（テンプレート標準） |
| **CSRF保護** | Remix/React Routerのフォーム送信機構による自動保護 |
| **XSS対策** | タグ付きテンプレートリテラルによる自動エスケープ + Shopify側のHTML制限で多層防御 |
| **GDPR対応** | Mandatory webhooks実装（customers/data_request, customers/redact, shop/redact） |
| **データ保持ポリシー** | アンインストール後48時間以内にDB内データ削除。Shopify側のページは残す |
| **バックアップ** | SQLite: Litestreamによるリアルタイムレプリケーション |

### 4.7 エラーハンドリング・エッジケース

| ケース | 対応 |
|--------|------|
| Shopify側でページ手動削除 | ダッシュボードで検知し、再作成を促すUIを表示 |
| フッターメニュー追加失敗 | 手動でメニューに追加する手順ガイドをフォールバック表示 |
| メニューハンドル特定 | Menu APIで全メニュー取得し、handle="footer"を候補提示。ユーザーが対象メニューを選択/確認 |
| メニューリンク重複 | 追加前に既存アイテムをチェックし、重複を防止 |
| 同時編集 | 楽観的ロック（LegalPage.versionカラム）で競合を検出し、再読み込みを促す |
| APIレート制限 | Exponential backoffリトライ（最大3回） |
| アンインストール | shop/redact webhookでDBデータ削除。Shopify側のページはそのまま残す |

### 4.8 テスト戦略

| レイヤー | 対象 | ツール |
|---------|------|--------|
| 単体テスト | テンプレートHTML生成、バリデーション、サニタイゼーション | Vitest |
| 統合テスト | Shopify API連携（モック）、DB操作 | Vitest + MSW |
| E2Eテスト | ウィザードフロー、ページ生成 | 手動テスト（MVPではPlaywright省略） |
| App Store審査 | 開発ストアでの動作確認 | Shopify Partners |

---

## 5. 料金プラン

### 5.1 プラン構成

| プラン | 月額 | 対象 | 機能 |
|--------|------|------|------|
| **Free** | ¥0 | 全ストア | 特商法ページ1ページのみ生成。基本テンプレート。フッター自動配置 |
| **Basic** | ¥500/月 | 小規模ストア | 特商法＋プライバシーポリシー＋利用規約＋返品ポリシーの4ページ生成。テンプレート選択。法改正通知 |
| **Pro** | ¥1,500/月 | 成長中ストア | 全ページ対応＋越境EC英語版＋最終確認画面テキスト＋コンプライアンスチェック＋デザインカスタマイズ |

### 5.2 価格設定の根拠

- **Free プラン**: 全ストアが必要とする特商法ページを無料で提供し、インストール数を最大化。レビュー獲得のフック
- **Basic ¥500**: KIYAC（年額7,920円＝月額660円相当）よりやや安価かつShopify連携の付加価値
- **Pro ¥1,500**: 弁護士費用（30万円〜）の200分の1。越境EC対応が差別化ポイント
- 全プランで**7日間の無料トライアル**を提供

### 5.3 収益シミュレーション

**前提:**
- 日本のアクティブShopifyストア: 約15,000〜17,000（全42,862のうち実稼働35〜40%）
- 月間新規ストア開設: 約478店舗
- ランキング表示アプリに該当しない全ジャンルのストアもターゲット

| 時期 | インストール数 | Free | Basic | Pro | MRR |
|------|-------------|------|-------|-----|-----|
| 6ヶ月後 | 500 | 350 | 105（21%） | 45（9%） | ¥120,000 |
| 12ヶ月後 | 1,500 | 1,050 | 315 | 135 | ¥360,000 |
| 24ヶ月後 | 3,500 | 2,450 | 735 | 315 | ¥840,000 |

---

## 6. 開発ロードマップ

### Phase 1: MVP（2〜3週間）

**ゴール: App Storeに公開可能な最小限のアプリ**

| 週 | タスク |
|----|--------|
| Week 1 | Shopify CLIでアプリ雛形作成。DBスキーマ設計。事業者情報入力フォーム（Polaris UI） |
| Week 1-2 | 特商法ページのHTMLテンプレート作成。Pages API連携（ページ作成・更新） |
| Week 2 | フッターメニュー自動追加。プレビュー機能。入力データの保存・復元 |
| Week 2-3 | テスト。App Store申請準備（スクリーンショット、説明文、プライバシーポリシー） |

**MVPの機能スコープ:**
- ✅ 特商法ページの生成（1ページ）
- ✅ 構造化フォーム入力（18フィールド: 法定14項目 + アプリ制御4フィールド）
- ✅ テンプレート文言のワンクリック挿入
- ✅ 住所非公開オプション
- ✅ フッターメニューへの自動リンク追加（ユーザーがメニューを選択）
- ✅ プレビュー機能
- ✅ ページの再編集・更新
- ✅ 自動保存（ステップ完了時 + debounce 3秒）
- ✅ GDPR mandatory webhooks（customers/data_request, customers/redact, shop/redact）
- ✅ 免責バナー表示（「法的助言ではない」旨の表示）
- ❌ プライバシーポリシー（Phase 2）
- ❌ 利用規約・返品ポリシー（Phase 2）
- ❌ 英語版生成（Phase 3）
- ❌ 課金（Phase 2。MVPは全機能無料で公開してレビュー獲得を優先）

**MVPリリースチェックリスト:**
- [ ] 全18フィールドの入力・生成・表示テスト
- [ ] XSSエスケープ確認テスト
- [ ] GDPR mandatory webhooks動作確認
- [ ] 住所非公開設定の表示確認
- [ ] フッターメニュー追加（既存リンク保持確認）
- [ ] 自動保存・復元テスト
- [ ] 開発ストアでの全フローE2Eテスト
- [ ] App Store申請用スクリーンショット撮影
- [ ] プライバシーポリシーURL準備
- [ ] アプリ利用規約準備

### Phase 2: 有料プラン＋追加ページ（Phase 1完了後 1〜2ヶ月）

- プライバシーポリシー生成機能
- 利用規約生成機能
- 返品・交換ポリシー生成機能
- Billing API連携（Free / Basic / Proの3プラン）
- ダッシュボードのコンプライアンスチェック機能
- 法改正通知バナー

### Phase 3: 差別化機能（Phase 2完了後 2〜3ヶ月）

- 越境EC対応（英語版ページの同時生成）
- 2022年改正対応（最終確認画面のテキスト生成ガイド）
- メール配信規約の生成
- デザインカスタマイズ（テーブルスタイル、カラー、フォント）
- ランキングアプリとのクロスプロモーション機能

---

## 7. App Store掲載情報（案）

### 7.1 アプリ説明文

```
🇯🇵 日本のShopifyストアに必要な法的ページを、かんたん3ステップで自動生成

「特定商取引法に基づく表記」のページ作成でお困りではありませんか？

まるっと法務作成は、フォームに入力するだけで特商法ページを自動生成し、
フッターへの配置まで自動で完了するアプリです。

✅ 特商法に必要な項目を構造化フォームでガイド
✅ テンプレート文言をワンクリックで挿入
✅ 個人事業主の住所非公開設定に対応
✅ フッターメニューへの自動リンク追加
✅ いつでも再編集・更新可能

BASE・STORES・カラーミーショップでは標準搭載の法的ページ生成機能を、
Shopifyでも簡単に利用できます。

【無料プランあり】特商法ページ1ページは永久無料で生成できます。
```

### 7.2 検索キーワード

```
特定商取引法, 特商法, 法的ページ, プライバシーポリシー, 利用規約,
返品ポリシー, 日本, Japanese legal, 法務, コンプライアンス,
tokushoho, legal page generator
```

### 7.3 スクリーンショット（必要な画面）

1. ダッシュボード（生成済みページ一覧）
2. ウィザード Step 1（事業者情報入力フォーム）
3. ウィザード Step 2（販売条件入力）
4. プレビュー画面
5. 生成完了画面（フッターに自動配置された状態）
6. 実際のストアフロントでの表示例

---

## 8. KPI・成功指標

| 指標 | 目標（6ヶ月） | 目標（12ヶ月） |
|------|-------------|--------------|
| インストール数 | 500 | 1,500 |
| レビュー数 | 15件（★4.5以上） | 40件（★4.5以上） |
| 有料転換率 | 25% | 30% |
| MRR | ¥120,000 | ¥360,000 |
| チャーンレート | < 5%/月 | < 3%/月 |
| サポートチケット/月 | < 10件 | < 20件 |

### レビュー獲得戦略

- インストール後7日でアプリ内バナーでレビュー依頼
- ページ生成完了時に「お役に立ちましたか？」とレビューリンクを表示
- 無料プランでもフル機能（特商法1ページ）を提供し、満足度を高めてからレビュー依頼
- 目標：20件のレビュー到達（信頼閾値）に必要な667〜2,000インストール

---

## 9. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| Shopifyが日本向けビルトイン機能を強化 | 高 | 先行者利益（レビュー・インストール数の蓄積）で防御。Liquidオブジェクトの不在が何年も放置されている実態を見ると、短期的な脅威は低い |
| 法改正への追従コスト | 中 | テンプレートベースの設計により、テンプレート更新のみで対応可能。弁護士監修は必須ではないが将来的に検討 |
| 生成されたページの法的正確性に関するクレーム | 中 | 免責事項を明記（アプリ内Banner + ページフッター + アプリ利用規約の3層）。テンプレートは消費者庁ガイドラインに準拠 |
| 弁護士法72条（非弁行為）リスク | 中 | 本アプリはテンプレート提供であり、個別の法的助言は行わない旨を明確化。免責事項を徹底表示 |
| XSS攻撃リスク | 中 | タグ付きテンプレートリテラルによる自動エスケープ + Shopify側のHTML制限で多層防御 |
| データ漏洩リスク | 中 | form_data暗号化保存（AES-256-GCM）、HTTPS通信、GDPR対応 |
| SQLiteデータ消失リスク | 中 | Litestreamによるリアルタイムバックアップ、Persistent Volume使用 |
| Pages APIの仕様変更 | 低 | GraphQL Admin APIのみ使用（REST API非依存） |
| 競合アプリの参入 | 中 | レビュー数と「まるっと」ブランドでの差別化。ランキングアプリとのクロスセルで顧客基盤を固める |

---

## 10. 将来の拡張構想

### 「まるっと」シリーズとしてのポートフォリオ戦略

```
まるっと請求書     ← 既存アプリ（インボイス制度対応）
まるっと法務作成  ← 本アプリ（法的コンプライアンス）
まるっとランキング  ← 次期アプリ（売上ランキング表示）
まるっと予約       ← 開発中（美容サロン向け予約）
```

and.d（配送日時指定.amp等）やTsun Inc.（リテリア シリーズ）が複数アプリのスイートで成功しているモデルを踏襲。各アプリ間でクロスプロモーションバナーを相互表示し、LTVを最大化する。
